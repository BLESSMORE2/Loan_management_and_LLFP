{% extends 'base.html' %}

{% block content %}
<div class="container py-4">
    <h1 class="h3 text-primary">Add ECL Methodology</h1>

    <!-- Success and Error Messages -->
    {% if messages %}
    <div class="container mt-4">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Form for Adding ECL Methodology -->
    <form method="post">
        {% csrf_token %}
        
        <!-- Non-Field Errors -->
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {{ form.non_field_errors }}
        </div>
        {% endif %}
        
        <div class="mb-3">
            <label for="method_name" class="form-label">Method Name</label>
            {{ form.method_name }}
            {% if form.method_name.errors %}
                <div class="text-danger">{{ form.method_name.errors }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label for="uses_discounting" class="form-label">Uses Discounting (EIR)</label>
            {{ form.uses_discounting }}
            {% if form.uses_discounting.errors %}
                <div class="text-danger">{{ form.uses_discounting.errors }}</div>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-success">Save</button>
        <a href="{% url 'ecl_methodology_list' %}" class="btn btn-outline-secondary">Cancel</a>
    </form>
</div>

<style>
    .form-label {
        font-weight: bold;
    }
    .btn-success, .btn-outline-secondary {
        padding: 0.5rem 1.5rem;
    }
</style>
{% endblock %}
